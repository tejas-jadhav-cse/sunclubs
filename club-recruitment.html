<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <link rel="icon" href="images/mu-fav-ico.png" type="image/x-icon">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Club Recruitment - Sandip University</title>
    <meta name="description" content="Join the amazing clubs at Sandip University. Apply now to be part of our vibrant community.">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,100..900;1,9..144,100..900&display=swap');
    </style>

    <link rel="stylesheet" href="css/master-production.css">
    <link rel="stylesheet" href="css/root.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- Supabase CDN -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    
    <!-- Debug Supabase loading -->
    <script>
        console.log('üîç Debugging Supabase loading...');
        console.log('window.supabase after CDN load:', window.supabase);
        console.log('typeof window.supabase:', typeof window.supabase);
        if (window.supabase) {
            console.log('window.supabase properties:', Object.keys(window.supabase));
            console.log('window.supabase.createClient exists:', !!window.supabase.createClient);
        }
    </script>
    
    <!-- Manual environment variables injection for browser -->
    <script>
        window.__MANUAL_ENV__ = {
            'VITE_SUPABASE_URL': 'https://ycuxzzwlucnrhgpsucqc.supabase.co',
            'VITE_SUPABASE_ANON_KEY': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InljdXh6endsdWNucmhncHN1Y3FjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIyNjAxNDYsImV4cCI6MjA2NzgzNjE0Nn0.A8Tv2AqZ9OJxUDr6wtrL016YyZb0N_k11L4h-jCXZZo',
            'VITE_ENVIRONMENT': 'development',
            'VITE_APP_NAME': 'Sandip University Clubs',
            'VITE_APP_VERSION': '1.0.0'
        };
    </script>
    
    <script src="js/jquery.min.js"></script>
    <script src="js/input-validator.js"></script>
    <script src="js/modal-manager.js"></script>
    <script src="js/config-manager.js"></script>
    <script src="js/supabase-config.js"></script>

    <style>
        /* Custom styles for club recruitment page */
        .recruitment-page {
            min-height: 100vh;
            background: var(--white);
            padding: 40px 0;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: transparent;
            border: 1px solid var(--grey18);
            border-radius: 50px;
            color: var(--black);
            font-family: 'go-medium';
            font-size: 14px;
            text-decoration: none;
            transition: all 0.3s ease;
            margin-bottom: 40px;
        }

        .back-button:hover {
            background: var(--black);
            color: var(--white);
            border-color: var(--black);
        }

        .back-button svg {
            transition: transform 0.3s ease;
        }

        .back-button:hover svg {
            transform: translateX(-3px);
        }

        .recruitment-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .recruitment-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .recruitment-title {
            font-family: 'go-regular';
            font-size: 48px;
            color: var(--black);
            line-height: 110%;
            margin-bottom: 16px;
        }

        .recruitment-subtitle {
            font-family: 'go-regular';
            font-size: 18px;
            color: var(--grey);
            line-height: 150%;
            max-width: 500px;
            margin: 0 auto;
        }

        .recruitment-form {
            background: var(--white);
            border: 1px solid var(--grey18);
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 4px 20px rgba(9, 9, 9, 0.05);
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 24px;
        }

        .form-group {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            width: 100%;
        }

        .form-label {
            font-family: 'go-medium';
            font-size: 14px;
            color: var(--black);
            margin-bottom: 8px;
            line-height: 130%;
        }

        .form-label.required::after {
            content: " *";
            color: var(--red);
        }

        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid var(--grey18);
            border-radius: 8px;
            background: var(--white3);
            font-family: 'go-medium';
            font-size: 16px;
            color: var(--black);
            transition: all 0.3s ease;
            box-sizing: border-box;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--black);
            background: var(--white);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
            font-family: 'go-regular';
        }

        /* Toggle Buttons */
        .toggle-container {
            display: flex;
            gap: 8px;
            margin-top: 8px;
        }

        .toggle-button {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid var(--grey18);
            border-radius: 8px;
            background: var(--white3);
            color: var(--grey);
            font-family: 'go-medium';
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .toggle-button:hover {
            border-color: var(--black);
            background: var(--white);
            color: var(--black);
        }

        .toggle-button.active {
            border-color: var(--black);
            background: var(--black);
            color: var(--white);
        }

        .toggle-button:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);
        }

        /* Enhanced Select Dropdowns */
        select.form-input {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
            padding-right: 40px;
        }

        select.form-input:focus {
            outline: none;
            border-color: var(--black);
            background: var(--white);
        }

        .clubs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 8px;
        }

        .club-category {
            margin-bottom: 32px;
        }

        .club-category:last-child {
            margin-bottom: 0;
        }

        .category-title {
            font-family: 'go-medium';
            font-size: 18px;
            color: var(--black);
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--grey18);
            display: flex;
            align-items: center;
        }

        .category-title::before {
            content: "";
            width: 4px;
            height: 20px;
            background: var(--black);
            margin-right: 12px;
            border-radius: 2px;
        }

        .club-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px;
            border: 1px solid var(--grey18);
            border-radius: 8px;
            background: var(--white3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .club-option:hover {
            border-color: var(--black);
            background: var(--white);
        }

        .club-option.selected {
            border-color: var(--black);
            background: var(--black);
            color: var(--white);
        }

        .club-checkbox {
            width: 16px;
            height: 16px;
            border: 2px solid var(--grey18);
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .club-option.selected .club-checkbox {
            border-color: var(--white);
            background: var(--white);
        }

        .club-checkbox::after {
            content: "‚úì";
            font-size: 10px;
            color: var(--black);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .club-option.selected .club-checkbox::after {
            opacity: 1;
        }

        .club-label {
            font-family: 'go-medium';
            font-size: 14px;
            user-select: none;
        }

        .consent-wrapper {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin: 30px 0;
            padding: 16px;
            background: var(--grey7);
            border-radius: 8px;
        }

        .consent-checkbox {
            width: 18px;
            height: 18px;
            border: 2px solid var(--grey18);
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            flex-shrink: 0;
            margin-top: 2px;
            transition: all 0.3s ease;
        }

        .consent-checkbox.checked {
            border-color: var(--black);
            background: var(--black);
        }

        .consent-checkbox::after {
            content: "‚úì";
            font-size: 12px;
            color: var(--white);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .consent-checkbox.checked::after {
            opacity: 1;
        }

        .consent-text {
            font-family: 'go-regular';
            font-size: 14px;
            color: var(--grey);
            line-height: 150%;
        }

        .submit-button {
            width: 100%;
            padding: 16px 24px;
            background: var(--black);
            color: var(--white);
            border: none;
            border-radius: 50px;
            font-family: 'go-medium';
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .submit-button:hover {
            background: var(--grey17);
            transform: translateY(-2px);
        }

        .submit-button:disabled {
            background: var(--grey18);
            color: var(--grey);
            cursor: not-allowed;
            transform: none;
        }

        .loading-spinner {
            width: 20px;
            height: 20px;
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: none;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .error-message {
            color: var(--red);
            font-family: 'go-medium';
            font-size: 12px;
            margin-top: 4px;
        }

        .success-message {
            background: var(--green2);
            color: var(--white);
            padding: 16px;
            border-radius: 8px;
            text-align: center;
            font-family: 'go-medium';
            margin-bottom: 20px;
            display: none;
        }

        .error-banner {
            background: var(--red);
            color: var(--white);
            padding: 16px;
            border-radius: 8px;
            text-align: center;
            font-family: 'go-medium';
            margin-bottom: 20px;
            display: none;
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .recruitment-container {
                padding: 0 16px;
            }

            .recruitment-title {
                font-size: 36px;
            }

            .recruitment-form {
                padding: 24px;
            }

            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .clubs-grid {
                grid-template-columns: 1fr;
            }

            .club-category {
                margin-bottom: 24px;
            }

            .category-title {
                font-size: 16px;
                margin-bottom: 12px;
            }

            .category-title::before {
                width: 3px;
                height: 16px;
                margin-right: 8px;
            }

            .club-option {
                padding: 14px 12px;
            }

            .club-label {
                font-size: 13px;
                line-height: 1.3;
            }

            .back-button {
                margin-bottom: 30px;
            }

            .toggle-container {
                flex-direction: column;
                gap: 8px;
            }

            .toggle-button {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .recruitment-title {
                font-size: 28px;
            }

            .recruitment-subtitle {
                font-size: 16px;
            }

            .recruitment-form {
                padding: 20px;
            }

            .category-title {
                font-size: 15px;
            }

            .club-option {
                padding: 12px 10px;
            }

            .club-label {
                font-size: 12px;
            }
        }
    </style>
</head>

<body>
    <!-- Header Navigation -->
    <section class="main-section">
        <div class="main">
            <header id="header" class="darkHeader">
                <div class="container">
                    <div class="topMenu flexbox">
                        <img loading="lazy" src="images/PNG/logo.png" class="logo-main" alt="SU Logo">
                    </div>
                </div>
                <div class="container">
                    <div class="mainMenu flexbox">
                        <div class="hamburger">
                            <img loading="lazy" src="images/hamburger.svg" alt="Icon" class="">
                        </div>
                        <a href="/" class="menuLogo">
                            <img loading="lazy" src="images/logo.webp" class="" alt="SU Logo">
                        </a>
                        <div class="megaMenus flexbox">
                            <a href="/club-recruitment.html" class="megaLink active" id="nav__club-recruitment">
                                Club Recruitment
                            </a>
                            <a href="/event-calendar.html" class="megaLink" id="nav__event-calendar">
                                Event Calendar
                            </a>
                            <a href="/president-login.html" class="megaLink" id="nav__president-login">
                                Club Admin
                            </a>
                            <a href="https://www.sandipuniversity.edu.in/" class="megaLink" id="nav__become-sandipian">
                                Become Sandipian!
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="mobMenuOuter">
                    <div class="mobMenuHeader">
                        <a href="/" class="logo">
                            <img loading="lazy" src="images/logo.webp" class="" alt="SU Logo">
                        </a>
                        <div class="closeIcon">
                            <img loading="lazy" src="images/menuCloseIcon.svg" alt="Icon" class="">
                        </div>
                    </div>
                    <div class="mobMenuBody">
                        <a href="/club-recruitment.html" class="mobLink font-white font-14 font-medium font-uppercase">
                            Club Recruitment
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.0156 7.06066L5.56066 13.5156L4.5 12.455L10.9549 6H5.26561V4.5H13.5156V12.75H12.0156V7.06066Z" fill="white"></path>
                            </svg>
                        </a>

                        <a href="/event-calendar.html" class="mobLink font-white font-14 font-medium font-uppercase">
                            Event Calendar
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.0156 7.06066L5.56066 13.5156L4.5 12.455L10.9549 6H5.26561V4.5H13.5156V12.75H12.0156V7.06066Z" fill="white"></path>
                            </svg>
                        </a>

                        <a href="/president-login.html" class="mobLink font-white font-14 font-medium font-uppercase">
                            Club Admin
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.0156 7.06066L5.56066 13.5156L4.5 12.455L10.9549 6H5.26561V4.5H13.5156V12.75H12.0156V7.06066Z" fill="white"></path>
                            </svg>
                        </a>
                        
                        <a href="https://www.sandipuniversity.edu.in/" class="mobLink font-white font-14 font-medium font-uppercase">
                            Become Sandipian!
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.0156 7.06066L5.56066 13.5156L4.5 12.455L10.9549 6H5.26561V4.5H13.5156V12.75H12.0156V7.06066Z" fill="white"></path>
                            </svg>
                        </a>
                    </div>
                </div>
            </header>
            <div class="blurScreen" onclick="closeMenu()"></div>
        </div>
    </section>

    <div class="recruitment-page">
        <div class="recruitment-container">
            <!-- Back Button -->
            <a href="/" class="back-button">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Go Back
            </a>

            <!-- Header -->
            <div class="recruitment-header">
                <h1 class="recruitment-title">Join Our <span class="fr-HeadingItalic">Amazing Clubs</span></h1>
                <p class="recruitment-subtitle">
                    Be part of something bigger. Apply to join the clubs that match your interests and make lifelong connections.
                </p>
            </div>

            <!-- Success/Error Messages -->
            <div id="success-message" class="success-message"></div>
            <div id="error-banner" class="error-banner"></div>

            <!-- Form -->
            <form id="recruitment-form" class="recruitment-form">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label required">Full Name</label>
                        <input 
                            type="text" 
                            id="fullName" 
                            class="form-input" 
                            placeholder="Enter your full name" 
                            required
                            data-validate="name"
                            minlength="2"
                            maxlength="50"
                        >
                        <div class="error-message" id="fullName-error"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label required">Email</label>
                        <input 
                            type="email" 
                            id="email" 
                            class="form-input" 
                            placeholder="Enter your email address" 
                            required
                            data-validate="email"
                        >
                        <div class="error-message" id="email-error"></div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <input 
                            type="tel" 
                            id="phone" 
                            class="form-input" 
                            placeholder="Enter your phone number"
                            data-validate="phone"
                        >
                        <div class="error-message" id="phone-error"></div>
                    </div>
                </div>

                <!-- Institution Toggle -->
                <div class="form-group full-width">
                    <label class="form-label required">Institution</label>
                    <div class="toggle-container">
                        <button type="button" class="toggle-button active" id="sandip-foundation" data-institution="foundation">
                            Sandip Foundation
                        </button>
                        <button type="button" class="toggle-button" id="sandip-university" data-institution="university">
                            Sandip University
                        </button>
                    </div>
                    <div class="error-message" id="institution-error"></div>
                </div>

                <!-- College, Branch & Year Row -->
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label required">College</label>
                        <select id="college" class="form-input" required>
                            <option value="">Select College</option>
                            <option value="SIEM">SIEM</option>
                            <option value="SITRC">SITRC</option>
                            <option value="SP">SP</option>
                            <option value="SIPS">SIPS</option>
                            <option value="Jr. College">Jr. College</option>
                        </select>
                        <div class="error-message" id="college-error"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Branch</label>
                        <select id="branch" class="form-input">
                            <option value="">Select Branch (Optional)</option>
                        </select>
                        <div class="error-message" id="branch-error"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Year</label>
                    <select id="year" class="form-input">
                        <option value="">Select Year (Optional)</option>
                        <option value="1st Year">1st Year</option>
                        <option value="2nd Year">2nd Year</option>
                        <option value="3rd Year">3rd Year</option>
                        <option value="4th Year">4th Year</option>
                        <option value="5th Year">5th Year</option>
                    </select>
                    <div class="error-message" id="year-error"></div>
                </div>

                <div class="form-group full-width">
                    <label class="form-label required">Clubs to Join</label>
                    
                    <!-- Tech Clubs Category -->
                    <div class="club-category">
                        <h3 class="category-title">Tech Clubs</h3>
                        <div class="clubs-grid">
                            <div class="club-option" data-club="sect-chapter">
                                <div class="club-checkbox"></div>
                                <span class="club-label">SECT Chapter</span>
                            </div>
                            <div class="club-option" data-club="cyberx">
                                <div class="club-checkbox"></div>
                                <span class="club-label">CyberX</span>
                            </div>
                            <div class="club-option" data-club="leads-community">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Leads Community</span>
                            </div>
                            <div class="club-option" data-club="innovators-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Innovators Club</span>
                            </div>
                            <div class="club-option" data-club="science-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Science Club</span>
                            </div>
                            <div class="club-option" data-club="aeromodeling-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Aeromodeling Club</span>
                            </div>
                            <div class="club-option" data-club="esports-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Esports Club</span>
                            </div>
                            <div class="club-option" data-club="act-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Action for Collective Transformation Club</span>
                            </div>
                            <div class="club-option" data-club="webmasters-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">WebMasters Club</span>
                            </div>
                            <div class="club-option" data-club="astronomy-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Astronomy Club</span>
                            </div>
                            <div class="club-option" data-club="mathematics-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Mathematics Club</span>
                            </div>
                            <div class="club-option" data-club="ml-ai-robotics-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Machine Learning, AI & Robotics Club</span>
                            </div>
                            <div class="club-option" data-club="apps-bloggers-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Apps and Bloggers Club</span>
                            </div>
                            <div class="club-option" data-club="energy-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Energy Club</span>
                            </div>
                        </div>
                    </div>

                    <!-- LibArts Category -->
                    <div class="club-category">
                        <h3 class="category-title">LibArts</h3>
                        <div class="clubs-grid">
                            <div class="club-option" data-club="dance-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Dance Club</span>
                            </div>
                            <div class="club-option" data-club="photography-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Photography Club</span>
                            </div>
                            <div class="club-option" data-club="literary-drama-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Literary & Drama Club</span>
                            </div>
                            <div class="club-option" data-club="painting-art-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Painting & Art Club</span>
                            </div>
                            <div class="club-option" data-club="music-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Music Club</span>
                            </div>
                            <div class="club-option" data-club="quiz-debate-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Quiz & Debate Club</span>
                            </div>
                            <div class="club-option" data-club="movie-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Movie Club</span>
                            </div>
                            <div class="club-option" data-club="culinary-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Culinary Club</span>
                            </div>
                            <div class="club-option" data-club="talk-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Talk Club</span>
                            </div>
                        </div>
                    </div>

                    <!-- CivicSide Category -->
                    <div class="club-category">
                        <h3 class="category-title">CivicSide</h3>
                        <div class="clubs-grid">
                            <div class="club-option" data-club="event-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Event Club</span>
                            </div>
                            <div class="club-option" data-club="media-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Media Club</span>
                            </div>
                            <div class="club-option" data-club="helping-hand-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Helping Hand Club</span>
                            </div>
                            <div class="club-option" data-club="youth-empowerment-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Youth Empowerment Club</span>
                            </div>
                            <div class="club-option" data-club="women-empowerment-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Women Empowerment Club</span>
                            </div>
                            <div class="club-option" data-club="ecological-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Ecological Club</span>
                            </div>
                            <div class="club-option" data-club="fitness-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Fitness Club</span>
                            </div>
                        </div>
                    </div>

                    <!-- Xcape Category -->
                    <div class="club-category">
                        <h3 class="category-title">Xcape</h3>
                        <div class="clubs-grid">
                            <div class="club-option" data-club="cycling-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Cycling Club</span>
                            </div>
                            <div class="club-option" data-club="trekking-club">
                                <div class="club-checkbox"></div>
                                <span class="club-label">Trekking Club</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="error-message" id="clubs-error"></div>
                </div>

                <div class="form-group full-width">
                    <label class="form-label required">Why do you want to join these clubs?</label>
                    <textarea id="reason" class="form-input form-textarea" placeholder="Tell us about your interests, what you hope to gain, and how you plan to contribute..." required></textarea>
                    <div class="error-message" id="reason-error"></div>
                </div>

                <div class="form-group full-width">
                    <label class="form-label">Resume/Portfolio URL (Optional)</label>
                    <input type="url" id="portfolio" class="form-input" placeholder="https://yourportfolio.com or drive.google.com/...">
                    <div class="error-message" id="portfolio-error"></div>
                </div>

                <div class="consent-wrapper">
                    <div class="consent-checkbox" id="consent-checkbox"></div>
                    <div class="consent-text">
                        I consent to the collection and processing of my personal data for club recruitment purposes. I understand that my information will be used to evaluate my application and communicate about club activities.
                    </div>
                </div>
                <div class="error-message" id="consent-error"></div>

                <button type="submit" class="submit-button" id="submit-button">
                    <div class="loading-spinner" id="loading-spinner"></div>
                    <span id="submit-text">Submit Application</span>
                </button>
            </form>
        </div>
    </div>
    
    <!-- Close the main structure -->
    </section>

    <script>
        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM Content Loaded - Initializing Club Recruitment Form');
            
            // Initialize Supabase client using configuration with error handling
            let supabase = null;
            try {
                if (typeof initializeSupabase === 'function') {
                    supabase = initializeSupabase();
                } else if (typeof window.createSupabaseClient === 'function') {
                    console.warn('initializeSupabase not available, using singleton createSupabaseClient');
                    supabase = window.createSupabaseClient();
                } else if (window.supabaseClient) {
                    console.warn('Using existing supabaseClient instance');
                    supabase = window.supabaseClient;
                } else {
                    console.warn('No Supabase initialization methods available, using direct fallback');
                    // Only create a new client if absolutely no other option exists
                    const SupabaseLib = window.SupabaseLibrary || window.supabase;
                    if (SupabaseLib && SupabaseLib.createClient) {
                        supabase = SupabaseLib.createClient('https://ycuxzzwlucnrhgpsucqc.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InljdXh6endsdWNucmhncHN1Y3FjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIyNjAxNDYsImV4cCI6MjA2NzgzNjE0Nn0.A8Tv2AqZ9OJxUDr6wtrL016YyZb0N_k11L4h-jCXZZo');
                        console.warn('‚ö†Ô∏è Created fallback Supabase client - this may cause multiple instance warning');
                    } else {
                        console.error('Supabase library not available for fallback initialization');
                    }
                }
            } catch (error) {
                console.error('Error initializing Supabase:', error);
                supabase = null;
            }
            
            // Log final Supabase client status
            console.log('Final Supabase client:', supabase);
            console.log('Supabase client type:', supabase ? typeof supabase : 'null');
            console.log('Available Supabase instances:', {
                supabaseClient: !!window.supabaseClient,
                createSupabaseClient: !!window.createSupabaseClient,
                SupabaseLibrary: !!window.SupabaseLibrary
            });

            // Fallback messages if not provided by supabase-config.js
            const LOCAL_MESSAGES = window.MESSAGES || {
                submitting: 'Submitting... Please wait.',
                success: 'Your application has been submitted successfully!',
                error: 'There was an error submitting your application. Please try again.',
                validation: {
                    clubs: {
                        maxSelection: 'You can select up to 5 clubs maximum',
                        required: 'Please select at least one club'
                    }
                }
            };

            // Fallback validation rules if not provided by supabase-config.js
            const LOCAL_VALIDATION_RULES = window.VALIDATION_RULES || {
                clubs: {
                    maxSelection: 5,
                    minSelection: 1
                }
            };

            // Form state - Initialize arrays properly
            let selectedClubs = [];
            let consentGiven = false;
            let selectedInstitution = 'foundation'; // Default to Sandip Foundation

            // Institution and course data
            const institutionData = {
                foundation: {
                    colleges: ['SIEM', 'SITRC', 'SP', 'SIPS', 'Jr. College'],
                    branches: {
                        'SIEM': ['Computer Science', 'Information Technology', 'Electronics', 'Mechanical', 'Civil'],
                        'SITRC': ['Computer Science', 'Information Technology', 'Electronics', 'Mechanical'],
                        'SP': ['Pharmacy', 'Pharmaceutical Sciences'],
                        'SIPS': ['Physiotherapy', 'Occupational Therapy'],
                        'Jr. College': ['Science', 'Commerce', 'Arts']
                    }
                },
                university: {
                    colleges: ['SOCSE', 'SOET', 'SOCMS', 'SOPS', 'SOL', 'SOS', 'SOD'],
                    branches: {
                        'SOCSE': ['Computer Science & Engineering', 'Information Technology', 'Data Science', 'AI & ML'],
                        'SOET': ['Mechanical Engineering', 'Civil Engineering', 'Electronics Engineering', 'Electrical Engineering'],
                        'SOCMS': ['MBA', 'BBA', 'Commerce', 'Management Studies'],
                        'SOPS': ['Pharmacy', 'Pharmaceutical Sciences', 'Pharmaceutical Chemistry'],
                        'SOL': ['LLB', 'LLM', 'Legal Studies'],
                        'SOS': ['B.Sc', 'M.Sc', 'Applied Sciences'],
                        'SOD': ['BDS', 'MDS', 'Dental Sciences']
                    }
                }
            };

            // DOM elements - Get after DOM is ready
            const form = document.getElementById('recruitment-form');
            const submitButton = document.getElementById('submit-button');
            const submitText = document.getElementById('submit-text');
            const loadingSpinner = document.getElementById('loading-spinner');
            const successMessage = document.getElementById('success-message');
            const errorBanner = document.getElementById('error-banner');

            // Verify elements exist
            console.log('DOM Elements Check:', {
                form: !!form,
                submitButton: !!submitButton,
                submitText: !!submitText,
                loadingSpinner: !!loadingSpinner,
                successMessage: !!successMessage,
                errorBanner: !!errorBanner
            });

            // Make variables available globally for the config file
            window.selectedClubs = selectedClubs;
            window.consentGiven = consentGiven;

            // Fallback functions if supabase-config.js functions aren't available
            if (typeof validateField === 'undefined') {
                window.validateField = function(fieldName, value, selectedClubs = []) {
                    console.log('Using fallback validateField for:', fieldName);
                    
                    switch(fieldName) {
                        case 'fullName':
                            if (!value || value.length < 2) return { isValid: false, message: 'Please enter your full name (at least 2 characters)' };
                            break;
                        case 'email':
                            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                            if (!value || !emailRegex.test(value)) return { isValid: false, message: 'Please enter a valid email address' };
                            break;
                        case 'college':
                            if (!value) return { isValid: false, message: 'Please select a college' };
                            break;
                        case 'reason':
                            if (!value || value.length < 50) return { isValid: false, message: 'Please provide a detailed explanation (at least 50 characters)' };
                            break;
                        case 'clubs':
                            if (selectedClubs.length === 0) return { isValid: false, message: 'Please select at least one club' };
                            if (selectedClubs.length > 5) return { isValid: false, message: 'You can select up to 5 clubs maximum' };
                            break;
                        case 'consent':
                            if (!value) return { isValid: false, message: 'Please provide consent to process your application' };
                            break;
                        case 'portfolio':
                            if (value && !/^https?:\/\/.+/.test(value)) return { isValid: false, message: 'Please enter a valid URL' };
                            break;
                    }
                    return { isValid: true };
                };
            }

            if (typeof getFormData === 'undefined') {
                window.getFormData = function() {
                    console.log('Using fallback getFormData');
                    return {
                        full_name: document.getElementById('fullName')?.value?.trim() || '',
                        email: document.getElementById('email')?.value?.trim() || '',
                        phone: document.getElementById('phone')?.value?.trim() || null,
                        institution: document.querySelector('.toggle-button.active')?.dataset?.institution || 'foundation',
                        college: document.getElementById('college')?.value?.trim() || '',
                        branch: document.getElementById('branch')?.value?.trim() || null,
                        year: document.getElementById('year')?.value?.trim() || null,
                        selected_clubs: selectedClubs || [],
                        reason: document.getElementById('reason')?.value?.trim() || '',
                        portfolio_url: document.getElementById('portfolio')?.value?.trim() || null,
                        consent_given: consentGiven || false,
                        created_at: new Date().toISOString()
                    };
                };
            }

            if (typeof submitApplication === 'undefined') {
                window.submitApplication = async function(formData) {
                    console.log('Using fallback submitApplication - simulating submission:', formData);
                    // Simulate delay
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    // For testing, always return success
                    return { success: true, data: formData };
                };
            }

            // Input validation helpers
            function showError(fieldId, message) {
                const errorElement = document.getElementById(fieldId + '-error');
                if (errorElement) {
                    errorElement.textContent = message;
                }
            }

            function clearError(fieldId) {
                const errorElement = document.getElementById(fieldId + '-error');
                if (errorElement) {
                    errorElement.textContent = '';
                }
            }

            function showBanner(elementId, message, isError = false) {
                const banner = document.getElementById(elementId);
                banner.textContent = message;
                banner.style.display = 'block';
                
                if (!isError) {
                    setTimeout(() => {
                        banner.style.display = 'none';
                    }, 5000);
                }
            }

            // Clear branch dropdown
            function clearBranchOptions() {
                const branchSelect = document.getElementById('branch');
                branchSelect.innerHTML = '<option value="">Select Branch (Optional)</option>';
            }

            // Update college dropdown based on selected institution
            function updateCollegeOptions() {
                const collegeSelect = document.getElementById('college');
                const colleges = institutionData[selectedInstitution].colleges;
                
                // Clear existing options except the first one
                collegeSelect.innerHTML = '<option value="">Select College</option>';
                
                // Add new options
                colleges.forEach(college => {
                    const option = document.createElement('option');
                    option.value = college;
                    option.textContent = college;
                    collegeSelect.appendChild(option);
                });
                
                // Clear branch dropdown when college options change
                clearBranchOptions();
            }

            // Update branch dropdown based on selected college
            function updateBranchOptions() {
                const collegeSelect = document.getElementById('college');
                const branchSelect = document.getElementById('branch');
                const selectedCollege = collegeSelect.value;
                
                // Clear existing branch options
                branchSelect.innerHTML = '<option value="">Select Branch (Optional)</option>';
                
                if (selectedCollege && institutionData[selectedInstitution].branches[selectedCollege]) {
                    const branches = institutionData[selectedInstitution].branches[selectedCollege];
                    
                    branches.forEach(branch => {
                        const option = document.createElement('option');
                        option.value = branch;
                        option.textContent = branch;
                        branchSelect.appendChild(option);
                    });
                }
            }

            // Institution toggle functionality
            function initializeInstitutionToggle() {
                const foundationBtn = document.getElementById('sandip-foundation');
                const universityBtn = document.getElementById('sandip-university');
                
                console.log('Setting up institution toggle:', {
                    foundationBtn: !!foundationBtn,
                    universityBtn: !!universityBtn
                });
                
                function updateInstitution(institution) {
                    console.log('Updating institution to:', institution);
                    selectedInstitution = institution;
                    
                    // Update button states
                    foundationBtn.classList.toggle('active', institution === 'foundation');
                    universityBtn.classList.toggle('active', institution === 'university');
                    
                    // Update college dropdown
                    updateCollegeOptions();
                    
                    // Clear dependent dropdowns
                    clearBranchOptions();
                    clearError('institution');
                }
                
                if (foundationBtn) {
                    foundationBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log('Foundation button clicked');
                        updateInstitution('foundation');
                    });
                }
                
                if (universityBtn) {
                    universityBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log('University button clicked');
                        updateInstitution('university');
                    });
                }
            }

            // Club selection functionality
            function initializeClubSelection() {
                const clubOptions = document.querySelectorAll('.club-option');
                console.log('Setting up club selection for', clubOptions.length, 'clubs');
                
                clubOptions.forEach(option => {
                    option.addEventListener('click', function() {
                        console.log('Club option clicked:', this);
                        const clubValue = this.getAttribute('data-club');
                        console.log('Club value:', clubValue);
                        
                        if (this.classList.contains('selected')) {
                            console.log('Removing club:', clubValue);
                            this.classList.remove('selected');
                            selectedClubs = selectedClubs.filter(club => club !== clubValue);
                        } else {
                            // Check maximum selection limit
                            const maxSelection = (window.VALIDATION_RULES && window.VALIDATION_RULES.clubs && window.VALIDATION_RULES.clubs.maxSelection) || LOCAL_VALIDATION_RULES.clubs.maxSelection;
                            if (selectedClubs.length >= maxSelection) {
                                console.log('Max selection reached');
                                const maxMessage = (window.MESSAGES && window.MESSAGES.validation && window.MESSAGES.validation.clubs && window.MESSAGES.validation.clubs.maxSelection) || LOCAL_MESSAGES.validation.clubs.maxSelection;
                                showError('clubs', maxMessage);
                                return;
                            }
                            console.log('Adding club:', clubValue);
                            this.classList.add('selected');
                            selectedClubs.push(clubValue);
                        }
                        
                        // Update global reference
                        window.selectedClubs = selectedClubs;
                        console.log('Updated selectedClubs:', selectedClubs);
                        
                        // Clear clubs error immediately when selection changes
                        clearError('clubs');
                    });
                });
            }

            // Consent checkbox functionality
            function initializeConsentCheckbox() {
                const consentCheckbox = document.getElementById('consent-checkbox');
                console.log('Setting up consent checkbox:', !!consentCheckbox);
                
                if (consentCheckbox) {
                    consentCheckbox.addEventListener('click', function() {
                        console.log('Consent checkbox clicked');
                        consentGiven = !consentGiven;
                        this.classList.toggle('checked');
                        window.consentGiven = consentGiven; // Update global reference
                        clearError('consent');
                        console.log('Consent given:', consentGiven);
                    });
                }
            }

            // College change handler
            function initializeCollegeHandlers() {
                const collegeSelect = document.getElementById('college');
                if (collegeSelect) {
                    collegeSelect.addEventListener('change', function() {
                        updateBranchOptions();
                        clearError('college');
                    });
                }
            }

            // Real-time validation for individual fields
            function setupRealTimeValidation() {
                const fieldMappings = {
                    'fullName': 'fullName',
                    'email': 'email', 
                    'phone': 'phone',
                    'college': 'college',
                    'reason': 'reason',
                    'portfolio': 'portfolio'
                };

                Object.entries(fieldMappings).forEach(([elementId, validationKey]) => {
                    const element = document.getElementById(elementId);
                    if (element) {
                        element.addEventListener('blur', function() {
                            const validation = validateField(validationKey, this.value.trim());
                            if (!validation.isValid) {
                                showError(elementId, validation.message);
                            } else {
                                clearError(elementId);
                            }
                        });
                    }
                });

                // Add change listeners for dropdowns
                const branchSelect = document.getElementById('branch');
                const yearSelect = document.getElementById('year');
                
                if (branchSelect) {
                    branchSelect.addEventListener('change', function() {
                        clearError('branch');
                    });
                }
                
                if (yearSelect) {
                    yearSelect.addEventListener('change', function() {
                        clearError('year');
                    });
                }
            }

            // Form submission
            function initializeFormSubmission() {
                if (form) {
                    form.addEventListener('submit', async function(e) {
                        e.preventDefault();
                        console.log('Form submitted');

                        // Get current form data
                        const formData = getFormData();
                        let isValid = true;
                        
                        console.log('Validating form with data:', formData);
                        
                        // Validate each field
                        [
                            { name: 'fullName', value: formData.full_name },
                            { name: 'email', value: formData.email },
                            { name: 'phone', value: formData.phone },
                            { name: 'institution', value: formData.institution },
                            { name: 'college', value: formData.college },
                            { name: 'branch', value: formData.branch },
                            { name: 'year', value: formData.year },
                            { name: 'reason', value: formData.reason },
                            { name: 'portfolio', value: formData.portfolio_url },
                            { name: 'clubs', value: selectedClubs },
                            { name: 'consent', value: consentGiven }
                        ].forEach(field => {
                            const validation = validateField(field.name, field.value, selectedClubs);
                            if (!validation.isValid) {
                                showError(field.name, validation.message);
                                isValid = false;
                            } else {
                                clearError(field.name);
                            }
                        });
                        
                        if (!isValid) return;

                        // Show loading state
                        submitButton.disabled = true;
                        loadingSpinner.style.display = 'block';
                        const submittingMessage = (window.MESSAGES && window.MESSAGES.submitting) || LOCAL_MESSAGES.submitting;
                        submitText.textContent = submittingMessage;

                        try {
                            // Submit using the configuration helper
                            const result = await submitApplication(formData);
                            if (!result.success) {
                                throw new Error(result.error || 'Submission failed');
                            }
                            
                            // Success feedback
                            const successMessage = (window.MESSAGES && window.MESSAGES.success) || LOCAL_MESSAGES.success;
                            showBanner('success-message', successMessage);
                            
                            // Reset form
                            form.reset();
                            selectedClubs = [];
                            consentGiven = false;
                            window.selectedClubs = selectedClubs;
                            window.consentGiven = consentGiven;
                            
                            document.querySelectorAll('.club-option.selected').forEach(option => {
                                option.classList.remove('selected');
                            });
                            document.getElementById('consent-checkbox').classList.remove('checked');
                            
                            // Scroll to top
                            window.scrollTo({ top: 0, behavior: 'smooth' });
                        } catch (error) {
                            console.error('Form submission error:', error);
                            const errorMessage = (window.MESSAGES && window.MESSAGES.error) || LOCAL_MESSAGES.error;
                            showBanner('error-banner', errorMessage, true);
                        } finally {
                            // Reset button state
                            submitButton.disabled = false;
                            loadingSpinner.style.display = 'none';
                            submitText.textContent = 'Submit Application';
                        }
                    });
                }
            }

            // Clear error on input change
            function initializeInputClearErrors() {
                document.querySelectorAll('.form-input').forEach(input => {
                    input.addEventListener('input', function() {
                        clearError(this.id);
                    });
                });
            }

            // Auto-resize textarea
            function initializeTextareaResize() {
                const reasonTextarea = document.getElementById('reason');
                if (reasonTextarea) {
                    reasonTextarea.addEventListener('input', function() {
                        this.style.height = 'auto';
                        this.style.height = this.scrollHeight + 'px';
                    });
                }
            }

            // Initialize all components
            try {
                console.log('Initializing all form components...');
                
                // Initialize all interactive elements
                initializeInstitutionToggle();
                initializeClubSelection();
                initializeConsentCheckbox();
                initializeCollegeHandlers();
                initializeFormSubmission();
                
                // Set up other features
                setupRealTimeValidation();
                initializeInputClearErrors();
                initializeTextareaResize();
                
                // Initialize college options for default institution
                updateCollegeOptions();
                
                console.log('All form components initialized successfully');
            } catch (error) {
                console.error('Error during initialization:', error);
            }

            // Final initialization status
            console.log('Club Recruitment Form initialized');
            console.log('Supabase initialized:', !!supabase);
            console.log('Config loaded:', {
                VALIDATION_RULES: !!window.VALIDATION_RULES,
                LOCAL_VALIDATION_RULES: !!LOCAL_VALIDATION_RULES,
                MESSAGES: !!window.MESSAGES,
                LOCAL_MESSAGES: !!LOCAL_MESSAGES,
                validateField: typeof validateField,
                getFormData: typeof getFormData,
                submitApplication: typeof submitApplication
            });

            // Test button functionality
            setTimeout(() => {
                console.log('Testing button functionality...');
                const testBtn = document.getElementById('sandip-foundation');
                const clubOption = document.querySelector('.club-option');
                const consentBox = document.getElementById('consent-checkbox');
                
                console.log('Foundation button found:', !!testBtn);
                console.log('Club option found:', !!clubOption);
                console.log('Consent checkbox found:', !!consentBox);
                
                if (testBtn) {
                    testBtn.style.border = '2px solid red';
                    setTimeout(() => testBtn.style.border = '', 1000);
                }
            }, 100);
        });
        
        // Hamburger Menu Functionality
        $(document).ready(function() {
            // Hamburger menu click handler
            $('.hamburger').click(function () {
                $('.mobMenuOuter').addClass('active');
                $('#header').addClass('height')
                $('body').css('overflow', 'hidden');
            });

            // Close menu functionality
            $('.closeIcon').click(function () {
                $('.mobMenuOuter').removeClass('active')
                $('#header').removeClass('height')
                $('body').css('overflow', 'auto');
            });

            // Close menu function for blur screen
            window.closeMenu = function() {
                $('.blurScreen').removeClass('active');
                $('.megaLink').removeClass('active');
                $('.menudropdown').removeClass('active');
                $('body').css('overflow', 'auto');
                $('header').removeClass('menuActive');
                $('.mobMenuOuter').removeClass('active');
                $('#header').removeClass('height');
            };
        });
    </script>
</body>

</html>
